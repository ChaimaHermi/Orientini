<div class="login-container">
  <div class="login-card">
    <div class="logo-container">
      <img src="../../../../../assets/img/orientini_logo.png" alt="Orientini Logo" class="logo">
    </div>

    <h2>Réinitialiser le mot de passe</h2>
    <p class="subtitle">Saisissez votre nouveau mot de passe</p>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="auth-form">
<div class="form-group">
  <label>Nouveau mot de passe</label>

  <div class="password-wrapper">
    <input
      [type]="showPassword ? 'text' : 'password'"
      formControlName="new_password"
      class="password-input"
    />

    <button
      type="button"
      class="toggle-password"
      (click)="togglePasswordVisibility()">
      <i [ngClass]="showPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
    </button>
  </div>

  <div *ngIf="form.get('new_password')?.invalid && form.get('new_password')?.touched"
       class="error-message">
    6 caractères minimum
  </div>
</div>



      <button type="submit" [disabled]="isLoading">
        <span>Réinitialiser</span>
        <span *ngIf="isLoading" class="spinner"><i class="fa fa-spinner fa-spin"></i></span>
      </button>
    </form>

    <div *ngIf="successMessage" class="success-message">
      <i class="fas fa-check-circle"></i> {{ successMessage }}<br>
      <a (click)="goToLogin()" class="return-link">Retour à la connexion</a>
    </div>

    <div *ngIf="errorMessage" class="error-message">
      <i class="fas fa-exclamation-circle"></i> {{ errorMessage }}
    </div>
  </div>
</div>

